(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(44),i=a.n(r),c=(a(97),a(33)),l=a(88),s=a(4),d=a(5),u=a(7),m=a(6),p=a(8),b=(a(98),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"header",className:"jumbotron jumbotron-fluid text-center"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"display-3"},"Todo List"),o.a.createElement("p",{className:"lead"},"A todo list using ReactJS"),o.a.createElement("hr",{className:"my-2"})))}}]),t}(n.Component)),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).isChanged=function(e){var t=e.target.value;a.props.btnSearchClick(t),a.setState({searchValue:t})},a.btnSearchClick=function(e){a.props.btnSearchClick(a.state.searchValue),e.preventDefault()},a.btnAddClick=function(){a.props.btnAddClick()},a.state={searchValue:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"comp-utility-search back-dark mb-3"},o.a.createElement("div",{className:"utility"},o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.btnAddClick()},title:"Add new todo"},"Add todo")),o.a.createElement("form",{className:"form-search"},o.a.createElement("div",{className:"search-box"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("input",{value:this.searchValue,onChange:function(t){return e.isChanged(t)},type:"search",placeholder:"Search..."})))))}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).btnEditClick=function(e){e.stopPropagation();var t=a.props.data.id;a.props.btnEditClick(t)},a.btnRemoveClick=function(e){e.stopPropagation();var t=a.props.data.id;a.props.btnRemoveClick(t)},a.todoClick=function(){var e={id:a.props.data.id,job:a.props.data.job,note:a.props.data.note,priority:a.props.data.priority,completed:!a.props.data.completed};a.props.todoClick(e)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;console.log("mount");var t=["low","medium","hight"][parseInt(this.props.data.priority)-1];return o.a.createElement("tr",{onClick:function(){return e.todoClick()},className:!0===this.props.data.completed?"completed":""},o.a.createElement("td",null,this.props.index+1),o.a.createElement("td",null,this.props.data.job),o.a.createElement("td",null,this.props.data.note),o.a.createElement("td",null,o.a.createElement("div",{className:"priority "+t},t[0].toUpperCase()+t.substring(1,t.lenght))),o.a.createElement("td",null,o.a.createElement("div",{className:"form-group mb-0"},!1===this.props.data.completed?o.a.createElement("button",{className:"btn btn-warning mr-2",title:"Edit this todo",onClick:function(t){return e.btnEditClick(t)}},o.a.createElement("i",{className:"fa fa-pencil-square","aria-hidden":"true"})):null,o.a.createElement("button",{className:"btn btn-danger",title:"Remove this todo",onClick:function(t){return e.btnRemoveClick(t)}},o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).btnEditClick=function(e){a.props.btnEditClick(e)},a.btnRemoveClick=function(e){a.props.btnRemoveClick(e)},a.todoClick=function(e){a.props.todoClick(e)},a.toggleSort=function(){a.props.toggleSort()},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.sort;return o.a.createElement("table",{className:"todos-list text-center table table-bordered table-inverse table-hover"},o.a.createElement("caption",null,"Table todo list"),o.a.createElement("colgroup",null,o.a.createElement("col",{width:"5%"}),o.a.createElement("col",{width:"35%"}),o.a.createElement("col",{width:"30%"}),o.a.createElement("col",{width:"15%"}),o.a.createElement("col",{width:"15%"})),o.a.createElement("thead",{className:"thead-dark"},o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Job"),o.a.createElement("th",null,"Note"),o.a.createElement("th",null,o.a.createElement("div",{onClick:function(){return e.toggleSort()},className:"sort "+(!1===t.status?"":"active")},"Priority",o.a.createElement("div",{className:"triangle "+(!0===t.type?"up":"down")}))),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,this.props.data.map(function(t,a){return o.a.createElement(f,{index:a,key:a,data:t,btnEditClick:function(t){return e.btnEditClick(t)},btnRemoveClick:function(t){return e.btnRemoveClick(t)},todoClick:function(t){return e.todoClick(t)}})})))}}]),t}(n.Component),g=a(24),v=a(99);v.initializeApp({apiKey:"AIzaSyDzdsOZSXW3Gn7KbJ6_UZ1UlV56pUcWLGg",authDomain:"note-react-1998.firebaseapp.com",databaseURL:"https://note-react-1998.firebaseio.com",projectId:"note-react-1998",storageBucket:"note-react-1998.appspot.com",messagingSenderId:"974356818032"});var C=v.database(),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).isChanged=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(g.a)({},t,n))},a.btnAddClick=function(){var e={job:a.state.job,note:a.state.note,priority:a.state.priority,completed:!1};0!==e.job.length&&0!==e.note.length?(a.props.btnAddTodoClick(e),a.props.toggleAddDialog()):a.props.alert({type:"danger",headline:"Error",message:"You must fill all fields!"})},a.btnCancelClick=function(){a.props.toggleAddDialog()},a.state={id:"",job:"",note:"",priority:"1",completed:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"editTodo"},o.a.createElement("h3",{className:"text-center"},"Add new todo"),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"job"},"Todo name:"),o.a.createElement("input",{value:this.state.job,onChange:function(t){return e.isChanged(t)},name:"job",type:"text",className:"form-control","aria-describedby":"helpId",placeholder:"Job"}),o.a.createElement("small",{id:"helpId",className:"form-text text-muted"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"note"},"Note:"),o.a.createElement("textarea",{value:this.state.note,onChange:function(t){return e.isChanged(t)},name:"note",type:"text",className:"form-control","aria-describedby":"helpId",placeholder:"Note"}),o.a.createElement("small",{id:"helpId",className:"form-text text-muted"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"priority"},"Priority:"),o.a.createElement("select",{value:this.state.priority,onChange:function(t){return e.isChanged(t)},className:"form-control",name:"priority"},o.a.createElement("option",{value:"1"},"Low"),o.a.createElement("option",{value:"2"},"Medium"),o.a.createElement("option",{value:"3"},"Hight"))),o.a.createElement("div",{className:"form-group text-center mb-0"},o.a.createElement("button",{type:"reset",className:"btn btn-primary mr-2",onClick:function(){return e.btnAddClick()}},"Add"),o.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.btnCancelClick()}},"Cancel"))))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).btnCancelClick=function(){a.props.toggleEditDialog()},a.btnEditClick=function(){var e=a.state;a.props.btnEditClick(e),a.props.toggleEditDialog()},a.isChanged=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(g.a)({},t,n))},a.state={id:a.props.data.id,job:a.props.data.job,note:a.props.data.note,priority:a.props.data.priority,completed:a.props.data.completed},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"editTodo"},o.a.createElement("h3",{className:"text-center"},"Edit todo"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"job"},"Todo name:"),o.a.createElement("input",{value:this.state.job,onChange:function(t){return e.isChanged(t)},name:"job",type:"text",className:"form-control","aria-describedby":"helpId",placeholder:"Job"}),o.a.createElement("small",{id:"helpId",className:"form-text text-muted"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"note"},"Note:"),o.a.createElement("textarea",{value:this.state.note,onChange:function(t){return e.isChanged(t)},name:"note",type:"text",className:"form-control","aria-describedby":"helpId",placeholder:"Note"}),o.a.createElement("small",{id:"helpId",className:"form-text text-muted"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"priority"},"Priority:"),o.a.createElement("select",{value:this.state.priority,onChange:function(t){return e.isChanged(t)},className:"form-control",name:"priority"},o.a.createElement("option",{value:"1"},"Low"),o.a.createElement("option",{value:"2"},"Medium"),o.a.createElement("option",{value:"3"},"Hight"))),o.a.createElement("div",{className:"form-group text-center mb-0"},o.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){return e.btnEditClick()}},"Edit"),o.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.btnCancelClick()}},"Cancel")))}}]),t}(n.Component),j=a(91),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).dismissAlert=function(){a.props.getAlert(null)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.alert,a=t.type,n=t.headline,r=t.message;return o.a.createElement(j.a,{type:a,headline:n,onDismiss:function(){return e.dismissAlert()},timeout:2e3},r)}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).reUpdateDatabase=function(){C.ref("Notes/").on("value",function(e){var t=[];e.forEach(function(e){var a=e.key,n=e.val(),o=Object(l.a)({},n,{id:a});t.push(o)}),a.setState({todos:t})})},a.dim_screen=function(){return!0===a.state.isAddTodo||!0===a.state.isEditTodo?"":" hidden"},a.toggleAddDialog=function(){a.setState({isAddTodo:!a.state.isAddTodo})},a.btnAddTodoClick=function(e){a.setState({todos:[].concat(Object(c.a)(a.state.todos),[e])}),C.ref("Notes/").push(e),a.getAlert({type:"success",headline:"Success",message:"Add success!"})},a.renderDialogAdd=function(){if(!0===a.state.isAddTodo)return o.a.createElement(y,{alert:function(e){return a.getAlert(e)},btnAddTodoClick:function(e){return a.btnAddTodoClick(e)},toggleAddDialog:function(){return a.toggleAddDialog()}})},a.renderDialogEdit=function(){var e;if(a.state.todos.map(function(t,n){t.id===a.state.editItemId&&(e=t)}),!0===a.state.isEditTodo)return o.a.createElement(k,{data:e,toggleEditDialog:function(){return a.toggleEditDialog()},btnEditClick:function(e){return a.getEditData(e)}})},a.toggleEditDialog=function(){a.setState({isEditTodo:!a.state.isEditTodo})},a.btnEditClick=function(e){a.setState({editItemId:e}),a.toggleEditDialog()},a.getEditData=function(e){C.ref("Notes/").child(e.id).update({job:e.job,note:e.note,priority:e.priority,completed:e.completed});var t=Object(c.a)(a.state.todos);t.map(function(t,a){t.id===e.id&&(t.job=e.job,t.note=e.note,t.priority=e.priority)}),a.setState({todos:t}),a.getAlert({type:"success",headline:"Success",message:"Edit success!"})},a.btnRemoveClick=function(e){C.ref("Notes/").child(e).remove(),a.setState({todos:a.state.todos.filter(function(t){return t.id!==e})}),a.getAlert({type:"success",headline:"Success",message:"Remove success!"})},a.todoClick=function(e){C.ref("Notes/"+e.id).update({completed:e.completed});var t=Object(c.a)(a.state.todos);t.map(function(t,a){t.id===e.id&&(t.completed=!t.completed)}),a.setState({todos:t}),a.getAlert({type:"success",headline:"Success",message:"Edit success!"})},a.getAlert=function(e){a.setState({alert:e})},a.renderAlert=function(){if(null!==a.state.alert)return o.a.createElement(N,{getAlert:function(e){return a.getAlert(e)},alert:a.state.alert})},a.btnSearchClick=function(e){a.setState({search:e})},a.toggleSort=function(){var e=a.state.sortByPriority;e.status=!e.status,!0===e.status&&(e.type=!e.type),a.setState({sortByPriority:e})},a.state={todos:[],isAddTodo:!1,isEditTodo:!1,alert:null,search:"",sortByPriority:{status:!1,type:!0}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.reUpdateDatabase()}},{key:"render",value:function(){var e=this,t=[];return t=""!==this.state.search?this.state.todos.filter(function(t){return-1!==t.job.toLowerCase().indexOf(e.state.search.toLowerCase())}):Object(c.a)(this.state.todos),console.log(this.state.todos),!0===this.state.sortByPriority.status&&t.sort(function(t,a){return!0===e.state.sortByPriority.type?parseInt(t.priority)-parseInt(a.priority):-(parseInt(t.priority)-parseInt(a.priority))}),console.log("changed"),o.a.createElement("div",{className:"App"},o.a.createElement("div",{id:"dim-screen"+this.dim_screen()}),o.a.createElement(b,null),o.a.createElement("div",{className:"container"},o.a.createElement(h,{btnAddClick:function(){return e.toggleAddDialog()},btnSearchClick:function(t){return e.btnSearchClick(t)}}),o.a.createElement(E,{data:t,btnEditClick:function(t){return e.btnEditClick(t)},btnRemoveClick:function(t){return e.btnRemoveClick(t)},todoClick:function(t){return e.todoClick(t)},sort:this.state.sortByPriority,toggleSort:function(){return e.toggleSort()}}),this.renderDialogAdd(),this.renderDialogEdit()),o.a.createElement("div",{className:"notifier"},this.renderAlert()))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a(208)},97:function(e,t,a){},98:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.378b47f0.chunk.js.map